(this.webpackJsonppodcastprioritizer=this.webpackJsonppodcastprioritizer||[]).push([[0],{104:function(e,t){},144:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),s=a(55),i=a.n(s),r=a(2),l=a(3),c=a(5),u=a(4),d=(a(63),a(8)),m=a.n(d),p=a(13),h=a(23),f=a.n(h),g=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(r.a)(this,a),(e=t.call(this)).getAddressFromApi=function(e){return m()({url:"https://www.mapquestapi.com/search/v3/prediction",method:"GET",responseType:"jsonp",params:{key:"ozwRV4KrZgLGMjKBYbnTIZBWQAN4JZBn",format:"png",limit:"5",collection:"adminArea,address,category,franchise,airport,poi",countryCode:"CA",q:e}})},e.handleUlClick=function(t){if(e.handleClickOutside(t),t.target.parentNode.classList.contains("from-address")&&"li"===t.target.localName){var a=t.target.innerText;"Address"!==a&&e.setState({userInputFrom:a,htmlFrom:""})}if(t.target.parentNode.classList.contains("to-address")&&"li"===t.target.localName){var n=t.target.innerText;"Address"!==n&&e.setState({userInputTo:n,htmlTo:""})}},e.handleUserInput=function(t){t.target.classList.contains("from-input")&&(t.target.value?(e.setState({userInputFrom:t.target.value}),t.target.value.length>1&&e.getAddressFromApi(t.target.value).then((function(t){var a="";t&&t.data.results&&t.data.results.forEach((function(e){a+="<li>".concat(e.displayString,"</li>")})),e.setState({htmlFrom:a||""})}))):e.setState({userInputFrom:"",htmlFrom:""})),t.target.classList.contains("to-input")&&(t.target.value?(e.setState({userInputTo:t.target.value}),t.target.value.length>1&&e.getAddressFromApi(t.target.value).then((function(t){var a="";t&&t.data.results&&t.data.results.forEach((function(e){a+="<li>".concat(e.displayString,"</li>")})),e.setState({htmlTo:a||""})}))):e.setState({userInputTo:"",htmlTo:""}))},e.setULRef=e.setULRef.bind(Object(p.a)(e)),e.handleClickOutside=e.handleClickOutside.bind(Object(p.a)(e)),e.state={userInputFrom:"",userInputTo:"",htmlFrom:"",htmlTo:"",podcastInput:""},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){document.addEventListener("mousedown",this.handleClickOutside)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousedown",this.handleClickOutside)}},{key:"setULRef",value:function(e){this.ULRef=e}},{key:"handleClickOutside",value:function(e){this.ULRef&&!this.ULRef.contains(e.target)&&this.setState({htmlFrom:"",htmlTo:""})}},{key:"render",value:function(){var e=this;return o.a.createElement("section",{className:"whereTo"},o.a.createElement("h2",null,"Where To Go?"),o.a.createElement("form",{action:"submit",className:"search-form wrapper",autoComplete:"off"},o.a.createElement("div",{className:"addressSearchInput"},o.a.createElement("label",{htmlFor:"fromaddress"},"Starting Location"),o.a.createElement("input",{type:"text",name:"fromaddress",className:"address-search from-input",placeholder:"1 Canada's Wonderland Drive, Vaughan, ON L6A 1S6",value:this.state.userInputFrom,onKeyUp:this.handleUserInput,onChange:this.handleUserInput}),this.state.htmlFrom?o.a.createElement("ul",{className:"suggestions from-address",onClick:this.handleUlClick,ref:this.setULRef},f()(this.state.htmlFrom)):""),o.a.createElement("div",{className:"addressSearchInput"},o.a.createElement("label",{htmlFor:"toaddress"},"Destination"),o.a.createElement("input",{type:"text",name:"toaddress",className:"address-search to-input",placeholder:"288 Bremner Blvd, Toronto, ON M5V 3L9",value:this.state.userInputTo,onKeyUp:this.handleUserInput,onChange:this.handleUserInput}),this.state.htmlTo?o.a.createElement("ul",{className:"suggestions to-address",onClick:this.handleUlClick,ref:this.setULRef},f()(this.state.htmlTo)):""),o.a.createElement("button",{type:"submit",onClick:function(t){e.props.submitForm(t,e.state.userInputFrom,e.state.userInputTo)}},"Search")))}}]),a}(n.Component),v=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return o.a.createElement("header",null,o.a.createElement("section",{className:"hero"},o.a.createElement("div",{className:"whiteBlock"},o.a.createElement("h1",null,"Podcast Prioritizer"),o.a.createElement("div",{className:"heroTextContainer"},o.a.createElement("p",{className:"heroTextTagline"},"Say goodbye to dull and boring commutes!"),o.a.createElement("p",{className:"heroText"},"Podcast Prioritizer will fill your long and uneventful commutes with informative and juicy podcasts for your listening pleasure. Simply enter your starting location, desired destination and topic of interest and we will suggest a lists of podcasts based on the length of your journey.")))))}}]),a}(n.Component),y=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(r.a)(this,a),(e=t.call(this)).handleChange=function(t){e.setState({podcastInput:t.target.value})},e.state={podcastInput:""},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this;return o.a.createElement("section",{className:"whatToListen"},o.a.createElement("form",{className:"search-form podcastSearchForm wrapper"},o.a.createElement("h2",{className:"podcastSearchHeader"},"What to Listen to?"),o.a.createElement("div",{className:"podcastSearchInput"},o.a.createElement("label",{htmlFor:"podcast"}),o.a.createElement("input",{placeholder:"Your topic of interest (e.g. finance, pets, health)",className:"podcast-search",type:"text",id:"podcast",value:this.state.podcastInput,onChange:this.handleChange}),o.a.createElement("button",{type:"submit",onClick:function(t){e.props.submitForm(t,e.state.podcastInput)}},"Search"))))}}]),a}(n.Component),T=a(14),E=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(r.a)(this,a),(e=t.call(this)).handleClick=function(t){t.persist();var a=t.target.id||t.target.parentElement.id||t.target.parentElement.parentElement.id;e.setState({travelType:a}),e.props.chooseTravelType(a)},e.state={travelType:""},e}return Object(l.a)(a,[{key:"render",value:function(){return o.a.createElement("section",{className:"travelTypeSection"},o.a.createElement("div",{className:"travelTypeSelection wrapper"},o.a.createElement("h2",{className:"travelHeading"},"Travel Preference?"),o.a.createElement("p",{class:"safetyWarning"},o.a.createElement("span",{className:"warning"},"Warning:")," Biking with headphones on is ",o.a.createElement("span",{className:"emphasisText"},"not")," suggested."),o.a.createElement("p",{class:"safetyWarning"},"Please be safe when listening to audio while cycling."),o.a.createElement("div",{className:"travelTypeButtonContainer"},o.a.createElement("button",{id:"walk",onClick:this.handleClick,className:"walk"===this.state.travelType?"active":"inactive"},o.a.createElement(T.a,{icon:"walking",className:"icon"}),o.a.createElement("p",null,"your walking travel time is ".concat(this.props.walkTime," hour(s)"))),o.a.createElement("button",{id:"cycle",onClick:this.handleClick,className:"cycle"===this.state.travelType?"active":"inactive"},o.a.createElement(T.a,{icon:"biking",className:"icon"}),o.a.createElement("p",null,"your cycling travel time is ".concat(this.props.cycleTime," hour(s)"))))))}}]),a}(n.Component),b=a(56),w=a.n(b),k=a(16),A=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(r.a)(this,a),(e=t.call(this)).audio=new Audio,e.showMore=function(){return e.setState({showAll:!0})},e.showLess=function(){return e.setState({showAll:!1})},e.playAudio=function(t){console.log(typeof t),console.log("play"),e.setState({isAudioPlaying:!0}),e.audio.src=t,e.audio.play()},e.pauseAudio=function(){console.log("pause"),e.setState({isAudioPlaying:!1}),e.audio.pause()},e.state={isAudioPlaying:!1},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this;return o.a.createElement("section",{className:"podcastContainer"},o.a.createElement("h2",{className:"podcastHeader"},"Pick Your Podcast"),o.a.createElement("ul",{className:"podcastGrid wrapper"},this.props.podcastList.map((function(t){return o.a.createElement("li",{className:"podcastList",key:t.id},o.a.createElement("div",{className:"podcastImgContainer"},o.a.createElement("img",{onClick:e.state.isAudioPlaying?e.pauseAudio:function(){e.playAudio(t.audio)},src:t.thumbnail,alt:"",className:"podcastImg"}),o.a.createElement("button",{className:"audioButton",onClick:function(){return e.props.getAudioItem(t)}},o.a.createElement(T.a,{icon:k.b}),"\xa0Listen")),o.a.createElement("div",{className:"podcastInfo"},o.a.createElement("h3",null,t.title_original),o.a.createElement(w.a,{ref:e.Readmore,charLimit:200,readMoreText:"Read More",readLessText:"\xa0Read Less"},t.description_original),o.a.createElement("p",{className:"podcastLength"},"Length: ",Math.floor(t.audio_length_sec/60)," minutes")))}))))}}]),a}(n.Component),N=a(17),C=a.n(N),S=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(r.a)(this,a),(e=t.call(this)).audio=new Audio,e.goToMusic=function(){window.scrollTo(0,document.body.scrollHeight)},e.setAudio=function(){var t=e.props.audioToPlay;e.setState({isAudioPlaying:!1,toggleButton:"\u25b6\ufe0f",progress:"0",audioFile:t.audio,timeLeft:e.getFormattedTime(t.audio_length_sec)}),e.audio.src=t.audio,e.audio.currentTime=0,setTimeout(e.playAudio,1e3),e.goToMusic()},e.showAlert=function(){C.a.fire({title:"Sorry About That!",text:"This audio is not available at the moment. Please try again audio to play!",confirmButtonText:"OK",padding:"2rem"})},e.playAudio=function(){e.audio.duration?(e.setState({isAudioPlaying:!0,toggleButton:"\u275a \u275a"}),e.audio.play()):e.showAlert()},e.pauseAudio=function(){e.setState({isAudioPlaying:!1,toggleButton:"\u25b6\ufe0f"}),e.audio.pause()},e.togglePlay=function(){e.state.isAudioPlaying?e.pauseAudio():e.playAudio()},e.scrubAudio=function(t){t.persist();var a=t.nativeEvent.offsetX/e.progressBar.current.offsetWidth*e.audio.duration;e.audio.currentTime=a},e.getFormattedTime=function(e){var t=Math.floor(e/3600),a=Math.floor(e/60)%60,n=e%60;return a=a<10&&a>=0?"0"+a:a,n=n<10&&n>=0?"0"+n:n,e=t?"".concat(t,":").concat(a,":").concat(n):"".concat(a,":").concat(n)},e.handleProgress=function(){var t=e.audio.currentTime/e.audio.duration*100,a=Math.floor(e.audio.duration-e.audio.currentTime);a=e.getFormattedTime(a),t&&e.setState({timeLeft:a,progress:"".concat(t)})},e.progressBar=o.a.createRef(),e.state={isAudioPlaying:!1,toggleButton:"\u25b6\ufe0f",progress:"",timeLeft:"00:00",mouseDown:!1,audioFile:""},e}return Object(l.a)(a,[{key:"componentDidUpdate",value:function(e,t){this.props.audioToPlay.audio!==t.audioFile&&this.setAudio()}},{key:"componentDidMount",value:function(){this.setState({isAudioPlaying:!1,toggleButton:"\u25b6\ufe0f"}),this.audio.src=this.props.audioToPlay.audio,this.audio.ontimeupdate=this.handleProgress,setTimeout(this.playAudio,1e3),this.goToMusic()}},{key:"render",value:function(){var e=this,t=this.props.audioToPlay;return o.a.createElement("div",{className:"wrapper audioWrapper"},o.a.createElement("h2",{className:"audioHeader"},"Your Music Here"),o.a.createElement("div",{className:"playerThumbnail"},o.a.createElement("img",{src:t.thumbnail,alt:t.title})),o.a.createElement("div",{className:"audioControl"},o.a.createElement("button",{className:"playerButton toggle",title:"Toggle Play",onClick:function(){return e.togglePlay()}},this.state.toggleButton),o.a.createElement("div",{className:"progress",ref:this.progressBar,onMouseDown:function(){return e.setState({mouseDown:!0})},onMouseUp:function(){return e.setState({mouseDown:!1})},onMouseMove:function(t){return e.state.mouseDown&&e.scrubAudio(t)}},o.a.createElement("div",{className:"progressFilled",style:{flexBasis:"".concat(this.state.progress,"%")}})),o.a.createElement("p",{className:"timeLeft"},this.state.timeLeft)))}}]),a}(n.Component),L=a(15),O=a(57);L.b.add(O.a,k.c,k.a);var j=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(r.a)(this,a),(e=t.call(this)).handleAddressSubmit=function(t,a,n){t.preventDefault(),""!==a&&""!==n&&m()({url:"https://www.mapquestapi.com/staticmap/v5/map",method:"GET",responseType:"json",params:{key:"ozwRV4KrZgLGMjKBYbnTIZBWQAN4JZBn",start:a,end:n,size:"400,400",countryCode:"CA",routeColor:"F97068",routeWidth:5}}).then((function(t){e.setState({staticMapUrl:t.request.responseURL})})),""!==a&&""!==n&&m()({method:"GET",url:"https://www.mapquestapi.com/directions/v2/route",params:{key:"TpZYQMsUgBgXUKt2b3xmQCxKpHB7JWoS",from:a,to:n,routeType:"pedestrian",unit:"k"}}).then((function(t){void 0!==t.data.route.formattedTime&&void 0!==t.data.route.time&&"00:00:00"!==t.data.route.formattedTime&&"00:00:00"!==t.data.route.time?e.setState({formatedWalkTime:t.data.route.formattedTime,walkTime:t.data.route.time}):e.showInvalidAdressModal()})),m()({method:"GET",url:"https://www.mapquestapi.com/directions/v2/route",params:{key:"TpZYQMsUgBgXUKt2b3xmQCxKpHB7JWoS",from:a,to:n,routeType:"bicycle",unit:"k"}}).then((function(t){void 0!==t.data.route.formattedTime&&void 0!==t.data.route.time&&"00:00:00"!==t.data.route.formattedTime&&"00:00:00"!==t.data.route.time?e.setState({formatedCycleTime:t.data.route.formattedTime,cycleTime:t.data.route.time}):e.showInvalidAdressModal()}))},e.showInvalidAdressModal=function(){C.a.fire({title:"Uh-oh!",text:"You must enter in a valid starting and destination address if you wish to proceed.",confirmButtonText:"OK",padding:"2rem"})},e.handlePodcastSubmit=function(t,a){t.preventDefault();var n=0;"walk"===e.state.travelType?(n=Math.floor(e.state.walkTime/60),console.log(e.state.walkTime)):"cycle"===e.state.travelType&&(n=Math.floor(e.state.cycleTime/60),console.log(e.state.cycleTime));var o=n-5,s=n+5;m()({url:"https://listen-api.listennotes.com/api/v2/search",method:"GET",headers:{"X-ListenAPI-Key":"0be4947c18024c2d8a5bb0dcb11eb2ac"},dataResponse:"jsonp",params:{q:'"'.concat(a,'"'),type:"episode",language:"English",len_min:o,len_max:s}}).then((function(t){e.setState({podcastList:t.data.results}),0===e.state.podcastList.length&&C.a.fire({title:"Uh-oh!",text:"Sorry, there are no podcasts that match your search criteria. Please choose another topic!",confirmButtonText:"OK",padding:"2rem"})}))},e.handleChoice=function(t){e.setState({travelType:t})},e.getAudio=function(t){e.setState({audio:t})},e.state={staticMapUrl:"",formatedWalkTime:"",formatedCycleTime:"",walkTime:"",cycleTime:"",podcastList:[],travelType:"",audio:""},e}return Object(l.a)(a,[{key:"render",value:function(){return o.a.createElement("div",{className:"App"},o.a.createElement(v,null),o.a.createElement(g,{submitForm:this.handleAddressSubmit}),""!==this.state.formatedWalkTime?o.a.createElement(E,{walkTime:this.state.formatedWalkTime,cycleTime:this.state.formatedCycleTime,chooseTravelType:this.handleChoice}):o.a.createElement("section",null),o.a.createElement(y,{submitForm:this.handlePodcastSubmit}),o.a.createElement("section",{className:"route-map"},o.a.createElement("img",{src:this.state.staticMapUrl,alt:"Route on map"})),o.a.createElement("section",null,o.a.createElement(A,{podcastList:this.state.podcastList,getAudioItem:this.getAudio})),o.a.createElement("section",{className:"audioPlayer"},this.state.audio?o.a.createElement(S,{audioToPlay:this.state.audio}):""))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(j,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},58:function(e,t,a){e.exports=a(144)},63:function(e,t,a){}},[[58,1,2]]]);
//# sourceMappingURL=main.b1a915e8.chunk.js.map